<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-if="customerCtrl.selected.id">

    <div class="panel panel-primary">
        <div class="panel-heading">
            <ul class="panel-controls" ng-class="{'pull-left' : lang==='AR', 'pull-right' : lang==='EN'}"
                style="margin-top: 2px;">
                <li>
                    <a href=""
                       ui-sref="customer.list"
                       tooltip-append-to-body="true"
                       uib-tooltip="{{lang==='AR' ? 'عودة' : 'Back'}}">
                        <span class="fa fa-arrow-circle-left"></span>
                    </a>
                    <a href=""
                       ng-click="customerCtrl.refreshCustomer()"
                       tooltip-append-to-body="true"
                       uib-tooltip="{{lang==='AR' ? 'تحديث' : 'Refresh'}}">
                        <span class="fa fa-refresh"></span>
                    </a>
                </li>
            </ul>
            <div class="panel-title-box" ng-class="{'pull-right' : lang==='AR', 'pull-left' : lang==='EN'}">
                <h3 ng-if="lang==='AR'">العميل / {{customerCtrl.selected.name}}</h3>
                <h3 ng-if="lang==='EN'">Customer \ {{customerCtrl.selected.name}}</h3>
            </div>
        </div>
        <div class="panel-body">

            <div class="row">

                <div class="form-group col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="panel panel-success">
                        <div class="panel-heading">
                            <ul class="panel-controls" ng-class="{'pull-left' : lang==='AR', 'pull-right' : lang==='EN'}" style="margin-top: 2px;">
                                <li>
                                    <a href=""
                                       ng-click="refreshCustomer()"
                                       tooltip-append-to-body="true"
                                       uib-tooltip="{{lang==='AR' ? 'تحديث البيانات' : 'Refresh'}}">
                                        <span class="fa fa-refresh"></span>
                                    </a>
                                </li>
                            </ul>
                            <div class="panel-title-box" ng-class="{'pull-right' : lang==='AR', 'pull-left' : lang==='EN'}">
                                <h3 ng-if="lang==='AR'">البيانات الاساسية</h3>
                                <h3 ng-if="lang==='EN'">Basic Information</h3>
                            </div>
                        </div>
                        <div class="panel-body">
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <tbody>
                                    <tr>
                                        <td>
                                            <span ng-if="lang==='AR'">اسم العميل</span>
                                            <span ng-if="lang==='EN'">Name</span>
                                        </td>
                                        <td>{{customerCtrl.selected.nickname}} {{customerCtrl.selected.name}}</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span ng-if="lang==='AR'">تاريخ التسجيل</span>
                                            <span ng-if="lang==='EN'">Register Date</span>
                                        </td>
                                        <td>
                                            {{customerCtrl.selected.registerDate | kdate: 'yyyy-mm-dd' : 'ar' :'ummalqura'}}
                                            <span class="label label-success">{{customerCtrl.selected.registerDate | date:'h:m a'}}</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span ng-if="lang==='AR'">الجوال</span>
                                            <span ng-if="lang==='EN'">Mobile</span>
                                        </td>
                                        <td>{{customerCtrl.selected.mobile}}</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span ng-if="lang==='AR'">رقم الهوية</span>
                                            <span ng-if="lang==='EN'">Identity Card Number</span>
                                        </td>
                                        <td>{{customerCtrl.selected.identityNumber}}</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span ng-if="lang==='AR'">الجنسية</span>
                                            <span ng-if="lang==='EN'">Nationality</span>
                                        </td>
                                        <td>{{customerCtrl.selected.nationality}}</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <span ng-if="lang==='AR'">المهنة</span>
                                            <span ng-if="lang==='EN'">Job</span>
                                        </td>
                                        <td>{{customerCtrl.selected.job}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="panel panel-success">
                        <div class="panel-heading">
                            <ul class="panel-controls" ng-class="{'pull-left' : lang==='AR', 'pull-right' : lang==='EN'}" style="margin-top: 2px;">
                                <li>
                                    <a href="" ng-click="refreshFalcons()"
                                       tooltip-append-to-body="true"
                                       uib-tooltip="{{lang==='AR' ? 'تحديث البيانات' : 'Refresh'}}">
                                        <span class="fa fa-refresh"></span>
                                    </a>
                                </li>
                            </ul>
                            <div class="panel-title-box" ng-class="{'pull-right' : lang==='AR', 'pull-left' : lang==='EN'}">
                                <h3 ng-if="lang==='AR'">الصقور المسجلة</h3>
                                <h3 ng-if="lang==='EN'">Registered Falcons</h3>
                            </div>
                        </div>
                        <div class="panel-body panel-body-table">
                            <div class="table-responsive">
                                <table st-table="collection1" st-safe-src="customerCtrl.selected.falcons" class="table table-bordered">
                                    <thead>
                                    <tr>
                                        <th st-sort="code" class="text-center">
                                            <span ng-if="lang==='AR'">رقم الصقر</span>
                                            <span ng-if="lang==='EN'">Code</span>
                                        </th>
                                        <th st-sort="registerDate" class="text-center">
                                            <span ng-if="lang==='AR'">تاريخ التسجيل</span>
                                            <span ng-if="lang==='EN'">Register Date</span>
                                        </th>
                                        <th st-sort="weight" class="text-center">
                                            <span ng-if="lang==='AR'">الوزن</span>
                                            <span ng-if="lang==='EN'">Weight</span>
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="offer in collection1">
                                        <td>{{offer.code}}</td>
                                        <td>
                                            <span>{{offer.registerDate | kdate: 'yyyy-mm-dd' : 'ar' : 'ummalqura'}}</span>
                                            <span class="label label-success">{{offer.registerDate | date:'h:m a'}}</span>
                                        </td>
                                        <td>{{offer.weight | currency:'KG':0.0}}</td>
                                    </tr>
                                    <tr class="blank_row" style="height: 10px !important; background-color: #FFFFFF;" ng-show="!collection1 || collection1.length ==0">
                                        <td colspan="3">
                                            <span ng-if="lang==='AR'">لا توجد صقور مسجلة لهذا العميل</span>
                                            <span ng-if="lang==='EN'">No Falcons Registered For This Customer</span>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                    <div class="panel panel-danger">
                        <div class="panel-heading">
                            <ul class="panel-controls" ng-class="{'pull-left' : lang==='AR', 'pull-right' : lang==='EN'}"
                                style="margin-top: 2px;">
                                <li>
                                    <a href=""
                                       ng-click="refreshOrders()"
                                       tooltip-append-to-body="true"
                                       uib-tooltip="{{lang==='AR' ? 'تحديث البيانات' : 'Refresh'}}">
                                        <span class="fa fa-refresh"></span>
                                    </a>
                                </li>
                            </ul>
                            <div class="panel-title-box" ng-class="{'pull-right' : lang==='AR', 'pull-left' : lang==='EN'}">
                                <h3 ng-if="lang==='AR'">قائمة الطلبات</h3>
                                <h3 ng-if="lang==='EN'">Orders List</h3>
                            </div>
                        </div>
                        <div class="panel-body panel-body-table">
                            <div class="table-responsive">
                                <table st-table="collection2" st-safe-src="customerCtrl.selected.orders"
                                       class="table table-bordered table-hover">
                                    <thead>
                                    <tr>
                                        <th>
                                            <span ng-if="lang==='AR'">م</span>
                                            <span ng-if="lang==='EN'">#</span>
                                        </th>

                                        <th st-sort="code">
                                            <span ng-if="lang==='AR'">رقم الطلب</span>
                                            <span ng-if="lang==='EN'">Code</span>
                                        </th>

                                        <th st-sort="date">
                                            <span ng-if="lang==='AR'">التاريخ</span>
                                            <span ng-if="lang==='EN'">Date</span>
                                        </th>

                                        <th st-sort="falcon.code">
                                            <span ng-if="lang==='AR'">رقم الصقر</span>
                                            <span ng-if="lang==='EN'">Falcon Code</span>
                                        </th>

                                        <th st-sort="falcon.weight">
                                            <span ng-if="lang==='AR'">وزن الصقر</span>
                                            <span ng-if="lang==='EN'">Falcon Weight</span>
                                        </th>

                                        <th st-sort="falcon.type">
                                            <span ng-if="lang==='AR'">نوع الصقر</span>
                                            <span ng-if="lang==='EN'">Falcon Type</span>
                                        </th>

                                        <th st-sort="orderAttaches.length">
                                            <span ng-if="lang==='AR'">المرفقات والمستندات</span>
                                            <span ng-if="lang==='EN'">Attachments</span>
                                        </th>

                                        <th st-sort="doctor.person.name">
                                            <span ng-if="lang==='AR'">الطبيب المعالج</span>
                                            <span ng-if="lang==='EN'">Doctor</span>
                                        </th>

                                        <th st-sort="detectionTypeCostSum">
                                            <span ng-if="lang==='AR'">التكلفة</span>
                                            <span ng-if="lang==='EN'">Cost</span>
                                        </th>

                                        <th st-sort="discount">
                                            <span ng-if="lang==='AR'">الخصم</span>
                                            <span ng-if="lang==='EN'">Discount</span>
                                        </th>

                                        <th st-sort="net">
                                            <span ng-if="lang==='AR'">الصافي</span>
                                            <span ng-if="lang==='EN'">Net</span>
                                        </th>

                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="order in collection2">
                                        <td>{{$index+1}}</td>
                                        <td>{{order.code}}</td>
                                        <td>
                                            <span ng-show="dateType==='H'">{{order.date | kdate: 'yyyy-mm-dd' : 'ar' : 'ummalqura'}}</span>
                                            <span ng-show="dateType==='G'">{{order.date | date: 'yyyy-MM-dd'}}</span>
                                            <span class="label label-success">{{order.date | date:'h:m a'}}</span>
                                        </td>
                                        <td>{{order.falcon.code}}</td>
                                        <td>{{order.falcon.weight}} جرام</td>
                                        <td>{{order.falcon.type}}</td>
                                        <td>
                                        <span ng-repeat="orderAttach in order.orderAttaches">
                                            <a uib-tooltip="{{orderAttach.attach.name}}" tooltip-append-to-body="true"
                                               href="" ng-href="{{orderAttach.attach.link}}" target="_blank">
                                                <i class="fa fa-link fa-lg"></i>
                                            </a>
                                        </span>
                                            <span ng-if="order.orderAttaches.length === 0" class="label label-danger">
                                            <span ng-if="lang==='AR'">لا توجد ملفات حتى الآن</span>
                                            <span ng-if="lang==='EN'">No Attachments Yet</span>
                                        </span>
                                        </td>
                                        <td>{{order.doctor.person.name}}</td>
                                        <td>{{order.detectionTypeCostSum}} SAR</td>
                                        <td>{{order.discount}} %</td>
                                        <td>{{order.netCost}} SAR</td>
                                    </tr>
                                    <tr class="blank_row" style="height: 10px !important; background-color: #FFFFFF;"
                                        ng-show="!collection2 || collection2.length ==0">
                                        <td colspan="11">
                                            <span ng-if="lang==='AR'">لا توجد بيانات</span>
                                            <span ng-if="lang==='EN'">No Data Found.</span>
                                        </td>
                                    </tr>
                                    </tbody>
                                    <tfoot>
                                    <tr>
                                        <td colspan="11">
                                            <div st-pagination="" st-items-by-page="5" st-displayed-pages="10"></div>
                                        </td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

        </div>
    </div>

</div>